<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Archive | Bravo Kernel</title>
  <meta name="author" content="bravo-kernel">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Bravo Kernel"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Bravo Kernel" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Bravo Kernel</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/atom.xml">Feed</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">Archive</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2015-03-27T19:30:00.000Z"><a href="/2015/03/creating-proper-github-releases/">Mar 27 2015</a></time>
      
      
  
    <h1 class="title"><a href="/2015/03/creating-proper-github-releases/">Creating proper Github releases</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Step-by-step instructions for creating Github Releases like the pros.</p>
<p>Assuming:</p>
<ul>
<li>a <code>master</code> branch</li>
<li>a more-or-less stable <code>dev</code> branch ready to be merged into master</li>
<li>a <code>VERSION.txt</code> file holding release version</li>
</ul>
<p><strong>Pro Tip:</strong> keep release cycles short, release often!</p>
<h2 id="Creating_the_release">Creating the release</h2><ol>
<li>create <code>VERSION.txt</code> in your dev branch and fill it with the release number (e.g. 1.0-alpha1)</li>
<li>merge the master branch into dev</li>
<li>merge the dev branch back into master</li>
<li>go to the Github page holding your project and:<ul>
<li>select <em>releases</em></li>
<li>select <em>Draft a new release</em></li>
<li>fill in 1.0-alpha1 as the <em>Tag version</em> </li>
<li>target the master branch</li>
<li>doublecheck before pressing the “Publish release” button</li>
</ul>
</li>
</ol>
<p>That’s all there’s too it, your first release. </p>
<p><strong>Note:</strong> to prevent future merge conflicts caused by e.g. bugfixes… regularly merge master into dev!</p>
<h2 id="Starting_work_on_the_next_release">Starting work on the next release</h2><p>Now that the release is out, it’s time to start work on the next one</p>
<ol>
<li>update <code>VERSION.txt</code> in the dev branch with the next release number (e.g. 1.0-alpha2)</li>
<li>commit and push change to dev</li>
<li>add features to your dev branch</li>
</ol>
<p>Once you are ready to publish a new release… simply restart <code>Creating the release</code> but skip step 1.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-12-21T14:13:25.000Z"><a href="/2014/12/setting-up-logstash-1-4-2-to-forward-nginx-logs-to-elasticsearch/">Dec 21 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/12/setting-up-logstash-1-4-2-to-forward-nginx-logs-to-elasticsearch/">Setting up Logstash 1.4.2 to forward Nginx logs to Elasticsearch</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Step-by-step instructions on how to configure Logstash v1.4.2 to forward your Nginx access logs to Elasticsearch v1.4.2.</p>
<h2 id="Create_a_custom_Nginx_log_format">Create a custom Nginx log format</h2><p>Add the following custom log_format to the <em>/etc/nginx/conf.d</em> file so it becomes available to all (virtual) Nginx hosts: </p>
<pre><code><span class="comment"># Custom logstash format</span>
<span class="title">log_format</span> logstash <span class="string">'<span class="variable">$http_host</span> '</span>
                    <span class="string">'<span class="variable">$remote_addr</span> [<span class="variable">$time_local</span>] '</span>
                    <span class="string">'"<span class="variable">$request</span>" <span class="variable">$status</span> <span class="variable">$body_bytes_sent</span> '</span>
                    <span class="string">'"<span class="variable">$http_referer</span>" "<span class="variable">$http_user_agent</span>" '</span>
                    <span class="string">'<span class="variable">$request_time</span> '</span>
                    <span class="string">'<span class="variable">$upstream_response_time</span>'</span>;
</code></pre><blockquote>
<p>Make sure to add this <strong>above</strong> the “# virtual hosting” directive to prevent nginx failing with “unkown log format” errors.</p>
</blockquote>
<h2 id="Enable_the_custom_Nginx_log_format">Enable the custom Nginx log format</h2><p>Update your nginx site configuration file(s) to start logging with the new custom log_format:</p>
<pre><code><span class="variable">#access_log</span> /<span class="built_in">var</span>/<span class="keyword">log</span>/nginx/access<span class="built_in">.</span><span class="keyword">log</span>;
access_log /<span class="built_in">var</span>/<span class="keyword">log</span>/nginx/access<span class="built_in">.</span><span class="keyword">log</span> logstash;
</code></pre><p>Restart nginx. </p>
<p>Check your access log(s) and confirm that entries no longer look like the first line below (default nginx format) but look similar to second one (using our custom logstash format):</p>
<pre><code><span class="number">10.33</span><span class="number">.10</span><span class="number">.1</span> - - [<span class="number">21</span>/<span class="keyword">Dec</span>/<span class="number">2014</span>:<span class="number">14</span>:<span class="number">36</span>:<span class="number">25</span> +<span class="number">0000</span>] <span class="string">"GET /test_126 HTTP/1.1"</span> <span class="number">404</span> <span class="number">6642</span> <span class="string">"-"</span> <span class="string">"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0"</span>
my.app <span class="number">10.33</span><span class="number">.10</span><span class="number">.1</span> [<span class="number">21</span>/<span class="keyword">Dec</span>/<span class="number">2014</span>:<span class="number">13</span>:<span class="number">58</span>:<span class="number">48</span> +<span class="number">0000</span>] <span class="string">"GET /test_126 HTTP/1.1"</span> <span class="number">404</span> <span class="number">6641</span> <span class="string">"-"</span> <span class="string">"Mozilla/5.0 (Windows NT 6.3; WOW64; rv:34.0) Gecko/20100101 Firefox/34.0"</span> <span class="number">2.465</span> <span class="number">2.465</span>
</code></pre><h2 id="Create_a_Logstash_nginx_pattern">Create a Logstash nginx pattern</h2><p>Create new file <em>/opt/logstash/server/patterns/nginx</em> with:</p>
<pre><code>NGUSERNAME [a-zA-Z<span class="string">\.\@\-\+_%]+</span>
NGUSER %{NGUSERNAME}
NGINXACCESS %{<span class="attribute">IPORHOST</span>:http_host} %{<span class="attribute">IPORHOST</span>:clientip} <span class="string">\[%{HTTPDATE:timestamp}\]</span> <span class="string">\"(?:%{WORD:verb}</span> %{<span class="attribute">NOTSPACE</span>:request}(?: HTTP/%{<span class="attribute">NUMBER</span>:httpversion})?|%{<span class="attribute">DATA</span>:rawrequest})<span class="string">\"</span> %{<span class="attribute">NUMBER</span>:response} (?:%{<span class="attribute">NUMBER</span>:bytes}|-) %{<span class="attribute">QS</span>:referrer} %{<span class="attribute">QS</span>:agent} %{<span class="attribute">NUMBER</span>:<span class="attribute">request_time</span>:float} %{<span class="attribute">NUMBER</span>:<span class="attribute">upstream_time</span>:float}
NGINXACCESS %{<span class="attribute">IPORHOST</span>:http_host} %{<span class="attribute">IPORHOST</span>:clientip} <span class="string">\[%{HTTPDATE:timestamp}\]</span> <span class="string">\"(?:%{WORD:verb}</span> %{<span class="attribute">NOTSPACE</span>:request}(?: HTTP/%{<span class="attribute">NUMBER</span>:httpversion})?|%{<span class="attribute">DATA</span>:rawrequest})<span class="string">\"</span> %{<span class="attribute">NUMBER</span>:response} (?:%{<span class="attribute">NUMBER</span>:bytes}|-) %{<span class="attribute">QS</span>:referrer} %{<span class="attribute">QS</span>:agent} %{<span class="attribute">NUMBER</span>:<span class="attribute">request_time</span>:float}    
</code></pre><p><strong>Notes:</strong></p>
<ul>
<li>by creating a pattern we keep our our logstash filters clean (simply referencing the pattern)</li>
<li>the first rule catches requests that are sent upstream</li>
<li>the second rule catches all static requests (where no upstream_response_time is available)</li>
</ul>
<blockquote>
<p>Pro tip: use the online <a href="https://grokdebug.herokuapp.com" target="_blank" rel="external">Grok Debugger</a> if you need to test/develop patterns.</p>
</blockquote>
<h2 id="Create_a_Logstash_configuration_file">Create a Logstash configuration file</h2><p>Create new file <em>/opt/logstash/server/etc/conf.d/nginx.conf</em> with:</p>
<pre><code>input {
  file {
    path =&gt; <span class="string">"/var/log/nginx/*access*"</span>
  }
}

filter {
  mutate { replace =&gt; { <span class="string">"type"</span> =&gt; <span class="string">"nginx_access"</span> } }
  grok {
    <span class="keyword">match</span> =&gt; { <span class="string">"message"</span> =&gt; <span class="string">"%{NGINXACCESS}"</span> }
  }
  date {
    <span class="keyword">match</span> =&gt; [ <span class="string">"timestamp"</span> , <span class="string">"dd/MMM/YYYY:HH:mm:ss Z"</span> ]
  }
  geoip {
    source =&gt; <span class="string">"clientip"</span>
  }
}

output {
  elasticsearch {
    host =&gt; <span class="string">"localhost"</span>
    protocol =&gt; <span class="string">"http"</span>
  }
  stdout { codec =&gt; rubydebug }
}
</code></pre><p><strong>Notes:</strong></p>
<ul>
<li>we change the timestamp to use the time the request arrived at the nginx server (instead of using the default which is the time the event was written to log, which is after the request has been processed)</li>
<li>all logentries will be indexed using Elasticsearch type “nginx_access”</li>
<li>we do NOT use the “index” directive in our output, all logentries will use Elasticsearch index “logstash-%{+YYYY.MM.dd}”</li>
</ul>
<blockquote>
<p>We MUST use the http protocol. By default Logstash will use the “node” protocol which joins Logstash as a participating node to the Elasticsearch cluster using it’s embedded ES library. Since that embedded version (1.1.1) is currently incompatible with version 1.4.2 it will cause issues all over the place like breaking Kibana due to incompatible nodes etc.</p>
</blockquote>
<h2 id="Start_logging_to_Elasticsearch">Start logging to Elasticsearch</h2><p>Manually test your new Logstash configuration by running:</p>
<pre><code><span class="regexp">/opt/</span>logstash<span class="regexp">/server/</span>bin<span class="regexp">/logstash -f /</span>opt<span class="regexp">/logstash/</span>server<span class="regexp">/etc/</span>conf.d<span class="regexp">/nginx.conf</span>
</code></pre><p>If your logs are appearing in Elasticsearch restart your logstash service. </p>
<h2 id="Credits">Credits</h2><p>Hat-tip to <a href="http://tech.ftbpro.com/post/92330141601/getting-the-best-out-of-logstash-for-nginx" target="_blank" rel="external">FTBpro developers</a> for the inspiration and the Logstash pattern</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-10-15T20:26:33.000Z"><a href="/2014/10/kitchen-converge-re-run-error-on-windows-against-vagrant-with-synced-folder/">Oct 15 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/10/kitchen-converge-re-run-error-on-windows-against-vagrant-with-synced-folder/">Kitchen converge re-run error on Windows against Vagrant with synced folder</a></h1>
  

    </header>
    <div class="entry">
      
        <h2 id="The_case">The case</h2><p>Running <code>kitchen converge</code> on Windows using Chef-DK against a .kitchen.yml vagrant server with a synced folder:</p>
<ul>
<li>succeeds the first time</li>
<li>fails every following attempt stating there is <em>“No such file or directory”</em></li>
</ul>
<p>Strangely enough:</p>
<ul>
<li>the mentioned file does exist (both locally and remote)</li>
<li>manually deleting the mounted folder solves the problem</li>
</ul>
<h2 id="The_error">The error</h2><p>Where <code>kitchen converge</code> would normally display <em>“Removing non-cookbook files before transfer”</em> it now produces the following errors.</p>
<p><strong>On screen:</strong></p>
<pre><code>-----&gt; Starting Kitchen (v1.2.1)
-----&gt; Converging &lt;default-ubuntu-<span class="number">1404</span>&gt;<span class="keyword">...</span>
       Preparing files <span class="keyword">for</span> transfer
       Resolving cookbook dependencies with Berkshelf <span class="number">3.1</span><span class="number">.5</span><span class="keyword">...</span>
&gt;&gt;&gt;&gt;&gt;&gt; ------Exception-------
&gt;&gt;&gt;&gt;&gt;&gt; Class: Kitchen::ActionFailed
&gt;&gt;&gt;&gt;&gt;&gt; Message: Failed to complete <span class="comment">#converge action: [No such file or directory - C:/Users/bravo-kernel/AppData/Local/Temp/default-ubuntu-1404-sandbox-20141014-5236-n5f95k/cookbooks/vagrant-hexo/blogs/default-ubuntu-1404/demo/node_modules/hexo-renderer-stylus/node_modules/nib/node_modules/stylus/node_modules/glob/node_modules/inherits/inherits_browser.js]</span>
&gt;&gt;&gt;&gt;&gt;&gt; ----------------------
&gt;&gt;&gt;&gt;&gt;&gt; Please see .kitchen/logs/kitchen.log <span class="keyword">for</span> more details
&gt;&gt;&gt;&gt;&gt;&gt; Also <span class="keyword">try</span> running `kitchen diagnose --all` <span class="keyword">for</span> configuration
</code></pre><p><strong>.kitchen/logs/kitchen.log:</strong></p>
<pre><code>I, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">33.513287</span> <span class="hexcolor">#523</span>6]  INFO -- Kitchen: -----&gt; Starting Kitchen (v1.<span class="number">2.1</span>)
I, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">37.866034</span> <span class="hexcolor">#523</span>6]  INFO -- Kitchen: -----&gt; Converging &lt;default-ubuntu-<span class="number">1404</span>&gt;...
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: ------Exception-------
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: Class: Kitchen::ActionFailed
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: Message: Failed to complete <span class="id">#converge</span> action: [No such file or directory - C:/Users/bravo-kernel/AppData/Local/Temp/default-ubuntu-<span class="number">1404</span>-sandbox-<span class="number">20141014</span>-<span class="number">5236</span>-n5f95k/cookbooks/vagrant-hexo/blogs/default-ubuntu-<span class="number">1404</span>/demo/node_modules/hexo-renderer-stylus/node_modules/nib/node_modules/stylus/node_modules/glob/node_modules/inherits/inherits_browser.js]
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: ---Nested Exception---
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: Class: Errno::ENOENT
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: Message: No such file or directory - C:/Users/bravo-kernel/AppData/Local/Temp/default-ubuntu-<span class="number">1404</span>-sandbox-<span class="number">20141014</span>-<span class="number">5236</span>-n5f95k/cookbooks/vagrant-hexo/blogs/default-ubuntu-<span class="number">1404</span>/demo/node_modules/hexo-renderer-stylus/node_modules/nib/node_modules/stylus/node_modules/glob/node_modules/inherits/inherits_browser<span class="class">.js</span>
E, [<span class="number">2014</span>-<span class="number">10</span>-<span class="number">14</span>T18:<span class="number">09</span>:<span class="number">44.489123</span> <span class="hexcolor">#523</span>6] ERROR -- Kitchen: ------Backtrace-------
</code></pre><h2 id="The_cause">The cause</h2><p>The reason is so obvious one might never consider it at all:</p>
<blockquote>
<p>The path to the non-cookbook file to be deleted exceeds the maximum of 255 characters supported by the Windows platform causing the kitchen delete command to fail.</p>
</blockquote>
<h2 id="The_solution">The solution</h2><p>Since there does not seem to be a solid solution (yet) resort to one of the following workarounds:</p>
<ul>
<li>shortening the path by moving the user’s sandbox directory to a higher level (e.g. directly unde    r C:)</li>
<li>shortening the path by changing the directory structure on the remote node</li>
</ul>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-28T20:07:09.000Z"><a href="/2014/09/how-to-fix-shellshock-bash-vulnerability-using-chef/">Sep 28 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/how-to-fix-shellshock-bash-vulnerability-using-chef/">How to fix Shellshock Bash Vulnerability using Chef</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Two copy-paste solutions for your recipes that will:</p>
<ul>
<li>make your Chef deployed servers <a href="http://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2014-6271" target="_blank" rel="external">Shellshock</a> proof</li>
<li>display <code>shellshock-fix</code> during provisioning to make you look good as a bonus</li>
</ul>
<h2 id="Using_package">Using package</h2><p>Place anywhere after your <code>apt-get update</code> action.</p>
<pre><code>package <span class="string">'shellshock-fix'</span> <span class="keyword">do</span>
  package_name <span class="string">'bash'</span>
  action <span class="symbol">:upgrade</span>
<span class="keyword">end</span>
</code></pre><h2 id="Using_execute">Using execute</h2><p>Place anywhere.</p>
<pre><code>execute <span class="string">"shellshock-fix"</span> <span class="built_in">do</span>
  <span class="command"><span class="keyword">command</span> <span class="string">'apt-get update &amp;&amp; sudo apt-get install --only-upgrade bash'</span></span>
  action :run
<span class="function"><span class="keyword">end</span></span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-01T08:41:23.000Z"><a href="/2014/09/how-to-set-up-phpcs-with-cakephp-coding-standard-on-ubuntu/">Sep 1 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/how-to-set-up-phpcs-with-cakephp-coding-standard-on-ubuntu/">How to set up PHPCS with CakePHP coding standard on Ubuntu</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Install required package</p>
<pre><code>sudo apt-<span class="keyword">get</span> install php-codesniffer
</code></pre><p>Install the <a href="https://github.com/cakephp/cakephp-codesniffer" title="CakePHP Coding Standard" target="_blank" rel="external">CakePHP Coding Standard</a></p>
<pre><code>$ sudo pear channel-discover pear<span class="class">.cakephp</span><span class="class">.org</span>
$ sudo pear install cakephp/CakePHP_CodeSniffer
</code></pre><h3 id="Usage">Usage</h3><pre><code>$ cd /<span class="built_in">var</span>/repos
$ cd <span class="subst">&lt;</span>your<span class="attribute">-repo</span><span class="subst">&gt;</span>
$ phpcs app <span class="attribute">-p</span> <span class="subst">--</span>extensions<span class="subst">=</span>php <span class="subst">--</span>standard<span class="subst">=</span>CakePHP
<span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span><span class="attribute">...</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-09-01T08:36:52.000Z"><a href="/2014/09/how-to-set-up-xdebug-for-php5-fpm-on-ubuntu/">Sep 1 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/09/how-to-set-up-xdebug-for-php5-fpm-on-ubuntu/">How to set up Xdebug for PHP5-FPM on Ubuntu</a></h1>
  

    </header>
    <div class="entry">
      
        <p>Install required packages:</p>
<pre><code>$ sudo apt-get <span class="keyword">install</span> php5-dev php-pear
$ sudo pecl <span class="keyword">install</span> xdebug
</code></pre><p>Open file <code>/etc/php5/fpm/php.ini</code> and add the following line to the “Dynamic Extensions” section:</p>
<pre><code><span class="setting">zend_extension=<span class="value"><span class="string">"/usr/lib/php5/20121212/xdebug.so"</span></span></span>
</code></pre><p>Restart PHP:</p>
<pre><code>$ sudo <span class="keyword">service</span> php5-fpm <span class="literal">restart</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-18T18:41:31.000Z"><a href="/2014/08/how-to-use-variables-in-mssql/">Aug 18 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/how-to-use-variables-in-mssql/">How to use variables in MSSQL</a></h1>
  

    </header>
    <div class="entry">
      
        <p>To use variables in MSSQL queries simply declare and set them before using:</p>
<pre><code><span class="bullet">--
</span><span class="header">-- Declare and set variables
--</span>
DECLARE @migrationDate VARCHAR(100), @groupName VARCHAR(100)
SET @migrationDate = <span class="emphasis">'2014-08-15'</span>
SET @groupName = <span class="emphasis">'SOME-GROUP-NAME'</span>

<span class="bullet">--
</span><span class="header">-- Execute query using variables
--</span>
SELECT DISTINCT [username]
<span class="code">  ,[groupname]</span>
<span class="code">  ,[migrationdate]</span>
FROM [MYDB].[dbo].[vw<span class="emphasis">_my_</span>special<span class="emphasis">_view]
WHERE [groupname] LIKE @groupName
AND [migrationdate] LIKE @migrationDate</span>
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-14T15:44:33.000Z"><a href="/2014/08/how-to-reinstall-octopress-with-octostrap3-theme-on-debian/">Aug 14 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/how-to-reinstall-octopress-with-octostrap3-theme-on-debian/">How to reinstall Octopress with Octostrap3 theme on Debian</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Reinstall_Octopress">Reinstall Octopress</h3><pre><code><span class="variable">$ </span>cd [path-to-repos]
<span class="variable">$ </span>git clone git<span class="variable">@github</span>.<span class="symbol">com:</span>[your-github-pages-repo.git] octopress
<span class="variable">$ </span>cd octopress
<span class="variable">$ </span>git checkout source
<span class="variable">$ </span>rake setup_github_pages
</code></pre><h3 id="Re-enable_theme_submodule">Re-enable theme submodule</h3><pre><code><span class="variable">$ </span>git submodule init
<span class="variable">$ </span>git submodule update
<span class="variable">$ </span>cd .themes/octostrap3
<span class="variable">$ </span>git checkout master
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-10T11:48:16.000Z"><a href="/2014/08/how-to-set-up-time-date-and-timezone-on-debian/">Aug 10 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/how-to-set-up-time-date-and-timezone-on-debian/">How to set up time, date and timezone on Debian</a></h1>
  

    </header>
    <div class="entry">
      
        <h3 id="Display_(incorrect)_time,_date_and_timezone">Display (incorrect) time, date and timezone</h3><pre><code>$ <span class="tag">date</span>
<span class="tag">Wed</span> <span class="tag">Aug</span> 13 23<span class="pseudo">:50</span><span class="pseudo">:50</span> <span class="tag">MSK</span> 2014
</code></pre><h3 id="Show_active_timezone">Show active timezone</h3><pre><code>$ diff -s <span class="regexp">/etc/</span>localtime <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>`cat <span class="regexp">/etc/</span>timezone`
Files <span class="regexp">/etc/</span>localtime and <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>Europe<span class="regexp">/Moscow are identical</span>
</code></pre><h3 id="Fix_incorrect_timezone">Fix incorrect timezone</h3><pre><code>$ echo -e <span class="string">"Europe/Amsterdam"</span> | sudo tee <span class="regexp">/etc/</span>timezone
$ sudo cp <span class="regexp">/usr/</span>share<span class="regexp">/zoneinfo/</span>Europe<span class="regexp">/Amsterdam /</span>etc<span class="regexp">/localtime</span>
</code></pre><h3 id="Install_ntp_client">Install ntp client</h3><pre><code>$ sudo apt-get install ntp
Setting up ntp (<span class="number">1</span>:<span class="number">4.2</span><span class="number">.6</span>.p5+dfsg-<span class="number">2</span>) <span class="keyword">...</span>
[ ok ] Starting NTP server: ntpd.
</code></pre><h3 id="View_corrected_time,_date_and_timezone">View corrected time, date and timezone</h3><pre><code>$ <span class="tag">date</span>
<span class="tag">Thu</span> <span class="tag">Aug</span> 14 21<span class="pseudo">:55</span><span class="pseudo">:03</span> <span class="tag">CEST</span> 2014
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-08-10T07:31:56.000Z"><a href="/2014/08/how-to-create-a-new-cakephp-application-using-friendsofcake-app-template/">Aug 10 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/08/how-to-create-a-new-cakephp-application-using-friendsofcake-app-template/">How to create a new CakePHP application using FriendsOfCake app-template</a></h1>
  

    </header>
    <div class="entry">
      
        <p>This will create a new CakePHP application using the awesome <a href="https://github.com/FriendsOfCake/app-template" title="FriendsOfCake app-template" target="_blank" rel="external">FriendsOfCake app-template</a>.</p>
<p>Make sure you have:</p>
<ul>
<li>installed Composer (see <a href="/blog/2014/08/how-to-install-composer-on-debian/" title="How to install Composer on Debian">“How to install Composer on Debian”</a>)</li>
<li>created an empty Github repository (we’ll call it Debby)</li>
</ul>
<h3 id="Install_app-template">Install app-template</h3><pre><code>$ cd [path-to-repos]
$ sudo apt-get install php5-mcrypt
$ git clone https://github.com/<span class="type">FriendsOfCake</span>/app-<span class="keyword">template</span>.git friendsofcake/app-<span class="keyword">template</span>
</code></pre><h3 id="Generate_app">Generate app</h3><pre><code>$ composer -sdev create-project friendsofcake/app-<span class="keyword">template</span> debby
</code></pre><h3 id="Save_app">Save app</h3><pre><code><span class="char">$ </span>cd debby
<span class="char">$ </span>git init
<span class="char">$ </span>git add .
<span class="char">$ </span>git add tmp/ -f
<span class="char">$ </span>git commit -m <span class="comment">"Initial FriendsOfCake app-template"</span>
<span class="char">$ </span>git remote add origin git@github.<span class="method">com:</span>&lt;gh-username&gt;/debby.git
<span class="char">$ </span>git push -u origin master
</code></pre>
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
    <a href="/archives/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:bravo-kernel.com">
  </form>
</div>

  
<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/tags/apple/" style="font-size: 10px;">apple</a><a href="/tags/cakephp/" style="font-size: 13.33px;">cakephp</a><a href="/tags/chef/" style="font-size: 10px;">chef</a><a href="/tags/chef-dk/" style="font-size: 10px;">chef-dk</a><a href="/tags/cocktails/" style="font-size: 10px;">cocktails</a><a href="/tags/composer/" style="font-size: 10px;">composer</a><a href="/tags/database/" style="font-size: 10px;">database</a><a href="/tags/debian/" style="font-size: 20px;">debian</a><a href="/tags/dns/" style="font-size: 10px;">dns</a><a href="/tags/elasticsearch/" style="font-size: 10px;">elasticsearch</a><a href="/tags/fim/" style="font-size: 10px;">fim</a><a href="/tags/foc/" style="font-size: 10px;">foc</a><a href="/tags/git/" style="font-size: 20px;">git</a><a href="/tags/github/" style="font-size: 10px;">github</a><a href="/tags/ipad/" style="font-size: 10px;">ipad</a><a href="/tags/iphone/" style="font-size: 10px;">iphone</a><a href="/tags/javascript/" style="font-size: 10px;">javascript</a><a href="/tags/kitchen/" style="font-size: 10px;">kitchen</a><a href="/tags/logstash/" style="font-size: 10px;">logstash</a><a href="/tags/microsoft/" style="font-size: 10px;">microsoft</a><a href="/tags/minecraft/" style="font-size: 10px;">minecraft</a><a href="/tags/misc/" style="font-size: 13.33px;">misc</a><a href="/tags/mobile/" style="font-size: 10px;">mobile</a><a href="/tags/mssql/" style="font-size: 10px;">mssql</a><a href="/tags/nginx/" style="font-size: 13.33px;">nginx</a><a href="/tags/octopress/" style="font-size: 16.67px;">octopress</a><a href="/tags/octostrap3/" style="font-size: 13.33px;">octostrap3</a><a href="/tags/php/" style="font-size: 10px;">php</a><a href="/tags/phpcs/" style="font-size: 10px;">phpcs</a><a href="/tags/security/" style="font-size: 10px;">security</a><a href="/tags/shellshock/" style="font-size: 10px;">shellshock</a><a href="/tags/time/" style="font-size: 10px;">time</a><a href="/tags/ubuntu/" style="font-size: 13.33px;">ubuntu</a><a href="/tags/vagrant/" style="font-size: 10px;">vagrant</a><a href="/tags/validator/" style="font-size: 10px;">validator</a><a href="/tags/wheezy/" style="font-size: 16.67px;">wheezy</a><a href="/tags/xdebug/" style="font-size: 10px;">xdebug</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2015 bravo-kernel
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
var disqus_shortname = 'bravo-kernel';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>